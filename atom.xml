<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[pacNAS]]></title>
  <link href="http://pacNAS.github.io/atom.xml" rel="self"/>
  <link href="http://pacNAS.github.io/"/>
  <updated>2013-09-10T23:00:47+02:00</updated>
  <id>http://pacNAS.github.io/</id>
  <author>
    <name><![CDATA[pacNAS community]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[btrfs - best practices]]></title>
    <link href="http://pacNAS.github.io/blog/2013/09/10/btrfs-best-practices/"/>
    <updated>2013-09-10T20:56:00+02:00</updated>
    <id>http://pacNAS.github.io/blog/2013/09/10/btrfs-best-practices</id>
    <content type="html"><![CDATA[<p>Right now we are adapting the installer to use btrfs as the base filesystem for
the PacNAS system. There are obviously a couple of ways on implementing this, so
that we try to &ldquo;suggest&rdquo; one way to do this, but also allowing other possible ways
as well.</p>

<!-- more -->


<ol>
<li><p>Partioning
If you are searching for &ldquo;btrfs best practices&rdquo;, you will stumb across <a href="http://comments.gmane.org/gmane.comp.file-systems.btrfs/25423">this</a>
mailing list entry, and I guess, we are going to follow the &ldquo;partition instead
of raw device&rdquo; philosophy. We will create one partition on the wanted device and
will then separate the partition by using subvolumes.</p></li>
<li><p>Subvolumes
I guess, that <a href="http://blog.fabio.mancinelli.me/2012/12/28/Arch_Linux_on_BTRFS.html">Bitloom</a>
suggests a valid approach for subvolumes on a btrfs root volume. What I don&rsquo;t like about
his approach is the subvolume for /var and the mounting of /var/lib into the root
subvolume. If you take a look on <a href="http://blog.patshead.com/2010/02/testing-btrfs-root-file-system-on-ubuntu.html">patshead.com</a>
you will read, that he prefers to creates many subvolumes beneath the root of the
Btrfs volume. I guess this is a way more KISS way.</p></li>
</ol>


<h1>&ldquo;Our&rdquo; Best Practices</h1>

<ol>
<li>We are partioning the wanted drive with just one partition.</li>
<li>We are creating a couple of subvolumes (rootfs, tmpfs) on this partition and
mount these volumes to the corresponding mount points (/ to rootfs, /tmp to tmpfs).</li>
<li>On each update of the system, we are creating a snapshot (at least provide
some scripts for this), and do provide a mechanism to &ldquo;undo&rdquo; the latest update.</li>
<li>We are not using a homefs subvolume, since we strongly believe that the home
directories are stored on separate partitions (meaning: data drives). Of course
these data drives can (and should) be formatted with btrfs.</li>
<li>It is a possibility to use the btrfs seed-device as a &ldquo;live&rdquo; system and copy this
drive over to the new system. This needs to get investigated, but see <a href="http://en.wikipedia.org/wiki/Btrfs#Seed_devices">Wikipedia &ndash; btrfs</a>.</li>
</ol>


<h1>Some Roadmap Things</h1>

<ol>
<li>Create scripts for creating and restoring snapshots before/after an pacman
update.</li>
<li>Add mkinitcpio-btrfs hook as a default.</li>
</ol>


<p>What do you think about our Best Practices, what suggestions do you have? We are
more then happy to get some feedback.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[pacNAS - Why A New Distro?]]></title>
    <link href="http://pacNAS.github.io/blog/2013/08/25/pacnas-why-a-new-distro/"/>
    <updated>2013-08-25T14:01:00+02:00</updated>
    <id>http://pacNAS.github.io/blog/2013/08/25/pacnas-why-a-new-distro</id>
    <content type="html"><![CDATA[<p>A couple of month ago I did start to rip all my CDs into the nowadays quite
popular flac-format. Just as an information, you can take a look into <a href="http://www.discogs.com/collection?user=triplem74">my</a>
discogs collection. This collection contains all CDs in my collection, which are
already converted. Right now (current number of collection items is 521) I did
convert already half of the whole (and unfortunately still growing) collection.</p>

<p>During this phase of ripping and tagging and handling my collection, I was searching
for a nice Media Player, which is able to play my quite large music collection
and present this in a &ldquo;standard&rdquo; way. Some goodies on this would be a control of
what is played via my smartphone or some other nice way (e.g. web interface). I
stumbled across <a href="http://www.minimserver.com">minimserver</a> and I am still very much
interested in this project.</p>

<!-- more -->


<p>So now you are asking, what does this have to do with a NAS distribution? Well,
during my search for this &ldquo;music server&rdquo; I looked for different NAS distributions
(music files can grow quite quickly and there is lots of disc space needed) and
decided, that I need a NAS to store all my files. This NAS should be able to run
minimserver and also probably some other related stuff (like e.g. a kind of proxy,
to be able to let the music stream to my stereo without having the smartphone
turned on all the time). Since minimserver uses Java I thought, all is fine and
I can probably use an already existing NAS distribution. But far from it, since
minimserver is also using some distribution related binaries. This is still possible
with all of the NAS distributions, but with a higher effort (at least on the
FreeBSD based distros, since there I needed the Linux compatibility mode).</p>

<p>Of course I stumbled on the <a href="http://openmediavault.org/">OpenMediaVault</a> distro,
which is Linux based. This distro is based on Debian, which I am not really into,
and furthermore it is based on a slightly outdated Kernel, so I would not be able
to use the latest up and coming filesystem (Btrfs).</p>

<p>After some digging around and much thoughts, I decided to create a new distro based
on my preferred distro <a href="http://www.archlinux.org">ArchLinux</a>. This distro has the
advantage, that I know it quite well (I use it since nearly 5 years) and it has
a very large and active community. Furthermore it does provide the latest and greatest
kernel version all the time.</p>

<p>Since I already participated in a &ldquo;new distribution project&rdquo; (ArchServer), I
asked the founder of this project (fukawi2), if he would like to participate.
Fortunately, he said yes. The new distro &ldquo;pacNAS&rdquo; was born.</p>

<p>Why the name pacNAS? pacNAS is a concatination of the word &ldquo;pacman&rdquo; (the famous
package manager of ArchLinux) and the word &ldquo;NAS&rdquo;, which tells you, that we are mainly
focused on being a NAS distribution.</p>

<p>If you have any further questions, remarks, do not hesitate to leave a comment.
Furthermore, if you like the idea and like to participate as well, contact us via
email (see our <a href="http://github.com/pacNAS">github project</a>).</p>
]]></content>
  </entry>
  
</feed>
