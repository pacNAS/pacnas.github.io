---
layout: post
title: "future - a couple of ideas"
date: 2014-06-11 20:54
comments: true
author: "triplem"
categories:
---

First post after a couple of busy month. After setting up my cubox-i (of course using
[MediaPlayer](http://petemanchester.github.io/MediaPlayer/)) and some more systems
at home, I am back on track and try to push pacnas further.

Unfortunately there is not a lot of community interest in this project right now, so
if you like to participate or contribute, just write an email to <triplem@pacnas.de>.

Currently I do have some ideas for the future of this project and I would like to
bring these to your attention in this post.

# Release Concept

After looking at a lot of other distributions, I do like the concept of [ArchLinux](http://www.archlinux.org)
- pretty obvious, since this distro is going to be based on this one - but also
I do like others as well. For the release concept, I think, that [alpinelinux](http://alpinelinux.org/)
has a very interesting one. It is a rolling release distro, if you look at the so
called "edge"-version. But furthermore there are several "stable" releases. Those
are snapshotted roughly every 6 month. Alpine seems to use the currently available
kernel at that time.

[Ubuntu](http://www.ubuntu.com/) is doing something similar, in that they do a
release every 6 month and every 2 years they do an LTS release. They do have the
manpower to path their own LTS-Kernel, which is out of reach for us.

So every 6 month seem to be too often for a NAS distribution. Furthermore it looks
like, there needs to be patches for all available releases and this seems to be
too much work right now as well. One of the major tasks involved are IMHO the patches
for the kernel, because not every used kernel is an LTS kernel. See where this is
heading? I guess, the solution to this one, would be to make a release every year
at the time an LTS-kernel appears.

Obviously this does resolve patches for the Kernel, but other applications do have
different release cycles. This means, that the Snapshot could come to a slightly
too late or too early time for some applications. But this seems to be a minor
issue, in that if really needed for security purposes, the version could be bumped
even during a stable release (as long as the configuration of this application does
not change).

So the release concept for pacnas will look like the following:

* have a rolling release
* have a "stable" release once a year or every two years when a LTS kernel appears
(this could already be 3.16?)
* support each stable release for at least until the next stable release appears and
slightly longer (6 month?)

## Implications

To have a rolling release as well as a stable release does mean some implications
on the package selection. In the first release we could try to use the standard
pacman and provide a mirrorlist, which contains the release in the path to the
packages. This could be a problem, if a user would like to upgrade from one release
to another or to the rolling release. Therefor we could provide different mirrorlist-files
which contain a line like this:

```
Server = http://host/pacnas/rolling/$repo/os/$arch
```

or

```
Server = http://host/pacnas/stable-1/$repo/os/$arch
```

Please note, that the names of the releases are not fixed yet ;-)

# Security

Security is pretty high on most server distributions. Alpine does solve this by
using [grsecurity](http://grsecurity.net/) patches as well as [Pax](http://pax.grsecurity.net/)
and most probably through other tools and/or patches on applications.

I guess we will put this on the todo list since right now, there is not much experience
with stuff like this. But it will be put very high on the list.

# Package Selection

The package selection is pretty important as well. Since there are not much contributions
right now, the package selection will be very stripped. I gather, that the most
important packages for a NAS system will be put into the distro.

## first release

* linux (well, that is obvious, right)
* btrfs
* samba
* nfs
* ssh
* netctl
* mdadm
* ftp
* rsync

## future releases

* ajenti or genesis
* nginx
* owncloud
* seafile
* crashplan
* ...

If you have specific packages, which you would like to see on this list, do not
hesitate and write an email to the above mentioned email.

# Automatisms

Since this distro is currently really understuffed (people and timewise), we need
as much automatisms as possible.

We are going to use the [pacnas buildbot](http://build.pacnas.de) to build the
packages. Most probably this needs to get extended to be able to build dependent
packages in the correct order and fully automatic.

Furthermore we need to "copy" packages from AL to our own repository. This should
be done automatically as well. The most important part is to be able to sync changes
in AL into our own Repo, if necessary. At least the watch of changes needs to get
automated.

# Next Steps

During the next couple of days, I will dig into the above mentioned automatisms
and will try to automate as much as possible.

Some Marketing is required as well, but before we are going to make some advertisement
we should have a first rough version ready.

